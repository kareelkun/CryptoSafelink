<script type='text/javascript'>
//<![CDATA[
$(document).ready(function(){
$("#btngenerate").on("click",function(){
var generateurl = $("#generateurl").val(),
generatelink = $("#generatelink"),		
generateloading = $("#generateloading"),		
resulturl = $('#resulturl');			
if (generateurl == "") {
$("#generateurl").focus();
return false;
}
$("#copytoclipboard").html("<span class='fa fa-floppy-o'></span> Salin URL-Aman");
generateloading.removeClass('hidden');
generatelink.addClass('hidden');
$.ajax({
url : '/feeds/posts/summary?alt=json-in-script',
type: 'get',
dataType: 'jsonp',
success: function(data) {
var link = '',
content = data.feed.entry,
links =new Array();	
if (content !== undefined) {
for (var i = 0; i < content.length; i++) {
for (var j = 0; j < content[i].link.length; j++) {
if (content[i].link[j].rel == "alternate") {
link = content[i].link[j].href;
break;
}
}
links[i] = link;
var randindex = Math.random() * links.length; 
randindex = parseInt(randindex);
}
resultgenerate = links[randindex] + "#?kareeI=" + aesCrypto.encrypt(KareeICryptOCOnvert(generateurl),KareeICryptOCOnvert('root'));
generateloading.addClass('hidden');
generatelink.removeClass('hidden');
resulturl.val(resultgenerate);
}else {
resulturl.val('Tidak ada hasil!');
}
},
error: function() {
resulturl.val('Gagal memuat feed!');
}
});
});
var clipboard = new ClipboardJS('.copytoclipboard');
clipboard.on('success', function(e) {
$("#copytoclipboard").html("<span class='fa fa-check'></span> URL-Aman disalin ke Clipboard");
});	
})
//]]>
</script>
/////////////////////////////////////////
/// UNTUK GO TO LINK ///////////////////
////////////////////////////////////////
<script type='text/javascript'>
//<![CDATA[
$(document).ready(function(){
$.urlParam = function(name){
var results = new RegExp('[\?&]' + name + '=([^&#]*)').exec(window.location.href);
if (results==null){
return null;
}
else{
return decodeURI(results[1]) || 0;
}
}		
var getlink = $("#getlink"),
gotolink = $("#gotolink"),
timer = $('#timer');
if ($.urlParam('kareeI') != null){
timer.pietimer({
timerSeconds: 12,
color: '#FF0000',
fill: false,
showPercentage: true,
callback: function() {
getlink.prop('disabled',false);						
getlink.removeClass('hidden');
timer.addClass('hidden');
}
});				
}
function gotolinkcountdown(){
var countDown = 3;
gotolink.removeClass('hidden');
var x = setInterval(function() {
var distance = countDown -= 1;
gotolink.html('<span class="glyphicon glyphicon-time"></span> Mohon tunggu...');
if (distance < 0) {
clearInterval(x);
gotolink.prop('disabled',false);
gotolink.html('<span class="glyphicon glyphicon-ok-sign"></span> Go to Link');
}
}, 1000);
}				
var request = false;
getlink.click(function() {
if (request == false) {
gotolinkcountdown();
request = true;		
}
$('html, body').animate({
scrollTop: eval(gotolink.offset().top - 10)
}, 100);
});	
gotolink.on("click",function(){
var realurl = aesCrypto.decrypt(KareeICryptOCOnvert($.urlParam('kareeI')),KareeICryptOCOnvert('root'));
if( realurl.indexOf("http://") == 0 || realurl.indexOf("https://") == 0 ) {
window.open(realurl, '_blank');
window.open(generatePOPupURL(), '_blank');
} else {
window.open('http://' + realurl, '_blank');
window.open(generatePOPupURL(), '_blank');
// window.location.href="http://" + realurl; //
}
});					
fuckAdBlock.on(true, function() {
$("#adbs").html("Adblock Terditeksi");
$("#adb").removeClass('hidden');
}).on(false, function() {
});
})
//]]>
</script>
